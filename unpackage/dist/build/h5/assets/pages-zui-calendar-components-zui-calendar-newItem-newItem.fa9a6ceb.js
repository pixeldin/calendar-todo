import{n as e,o as t,c as s,w as i,i as n,a as c,d as a,m as l,t as o,e as r,r as d,F as u,h,j as p,I as m,P as k,p as g,k as b,g as f,b as C}from"./index-3a470f0b.js";import{_}from"./_plugin-vue_export-helper.1b428a4d.js";const x=_({name:"PxpDatetimePicker",data:()=>({selectDay:"2023/8/1",selectWeekDay:"二",colorArray:["#5FBFFF","#DD5C5C","#FF9A02","#B347FF","#79BB31","#38B576","#6488FF","#9896FF","#C4C4C4","#9933CC"],remark:"",selectedColorIndex:-1,shour:0,smin:0,ehour:0,emin:0,shakebtn:{0:{iconUrl:"https://mp-40dc0c3b-8c88-46a3-943c-80a76525110e.cdn.bspapp.com/todo-img/btn-unclick.png",selected:!1}},weekItems:{"周一":{name:"周一",iconUrl:"https://mp-40dc0c3b-8c88-46a3-943c-80a76525110e.cdn.bspapp.com/todo-img/unselect-week.png",selected:!1},"周二":{name:"周二",iconUrl:"https://mp-40dc0c3b-8c88-46a3-943c-80a76525110e.cdn.bspapp.com/todo-img/unselect-week.png",selected:!1},"周三":{name:"周三",iconUrl:"https://mp-40dc0c3b-8c88-46a3-943c-80a76525110e.cdn.bspapp.com/todo-img/unselect-week.png",selected:!1},"周四":{name:"周四",iconUrl:"https://mp-40dc0c3b-8c88-46a3-943c-80a76525110e.cdn.bspapp.com/todo-img/unselect-week.png",selected:!1},"周五":{name:"周五",iconUrl:"https://mp-40dc0c3b-8c88-46a3-943c-80a76525110e.cdn.bspapp.com/todo-img/unselect-week.png",selected:!1},"周六":{name:"周六",iconUrl:"https://mp-40dc0c3b-8c88-46a3-943c-80a76525110e.cdn.bspapp.com/todo-img/unselect-week.png",selected:!1},"周日":{name:"周日",iconUrl:"https://mp-40dc0c3b-8c88-46a3-943c-80a76525110e.cdn.bspapp.com/todo-img/unselect-week.png",selected:!1}},showIcon:!1,indicatorStyle:"height: 50px;",visible:!1,startHour:0,startMinute:0,startSecond:0,endHour:23,endMinute:59,endSecond:59,time:"",sType:["起始","结束"],hour:0,minute:0,second:0,clearText:"清除",cancelText:"取消",okText:"确定"}),onLoad:function(e){const t=e.Tyear||2023,s=e.Tmonth||8,i=e.Tday||1;this.selectDay=e.selectDay||`${t}/${s}/${i}`,this.selectWeekDay=e.selectWeekDay||"二"},watch:{hours(e){this.checkValue("hour",this.hour,e)},minutes(e){this.checkValue("minute",this.minute,e)},seconds(e){this.checkValue("second",this.second,e)}},props:{value:{type:Number,default:0},modelValue:{type:Number,default:0},selectTimeText:{type:String,default:"选择时长"},disabled:{type:[Boolean,String],default:!1},border:{type:[Boolean,String],default:!0}},computed:{btnBackground(){return this.showIcon?"url(https://mp-40dc0c3b-8c88-46a3-943c-80a76525110e.cdn.bspapp.com/btn-clicked.png)":"url(https://mp-40dc0c3b-8c88-46a3-943c-80a76525110e.cdn.bspapp.com/btn-unclick.png)"},hours(){return this.getCurrentRange("hour")},minutes(){return this.getCurrentRange("minute")},seconds(){return this.getCurrentRange("second")},hms(){return[this.hour-this.minHour,this.minute-this.minMinute,this.second-this.minSecond]},minHour(){return this.startHour},maxHour(){return this.endHour},minMinute(){return this.hour===this.startHour?this.startMinute:0},maxMinute(){return this.hour===this.endHour?this.endMinute:59},minSecond(){return this.hour===this.startHour&&this.minute===this.startMinute?this.startSecond:0},maxSecond(){return this.hour===this.endHour&&this.minute===this.endMinute?this.endSecond:59}},methods:{lessThanTen:e=>e<10?"0"+e:e,parseValue(e){e&&(this.hour=parseInt(e/3600),this.minute=parseInt(e/60%60),this.second=Math.ceil(e%60))},parseTimeType(e){if(e){let t=e.split(":");t[0]&&(this.hour=Number(t[0])),t[1]&&(this.minute=Number(t[1])),t[2]&&(this.second=Number(t[2]))}},getCurrentRange(e){const t=[];for(let s=this["min"+this.capitalize(e)];s<=this["max"+this.capitalize(e)];s++)t.push(s);return t},capitalize:e=>e.charAt(0).toUpperCase()+e.slice(1),checkValue(e,t,s){-1===s.indexOf(t)&&(this[e]=s[0])},createDomSting(){return this.lessThanTen(this.hour)+"分"+this.lessThanTen(this.minute)+"秒"+this.lessThanTen(this.second)},initTime(e=!0){if(this.time=this.createDomSting(),!e)return;let t=3600*this.hour+60*this.minute+this.second;this.$emit("change",t),this.$emit("input",t),this.$emit("update:modelValue",t)},bindTimeChange(e){const t=e.detail.value;this.hour=this.hours[t[0]],this.minute=this.minutes[t[1]],this.second=this.seconds[t[2]]},bindStartTimeChange(e){const t=e.detail.value;this.shour=this.hours[t[0]],this.smin=this.minutes[t[1]]},bindEndTimeChange(e){const t=e.detail.value;this.ehour=this.hours[t[0]],this.emin=this.minutes[t[1]]},initTimePicker(){this.disabled||(this.parseTimeType(this.tiem),this.visible=!this.visible)},clearTime(){this.time="",this.$emit("change",0),this.$emit("input",0),this.$emit("update:modelValue",0)},setTime(){this.initTime()},changeHideStatus(e,t){for(var s=document.querySelectorAll("."+e),i=0;i<s.length;i++)s[i].style.display=t},clickCancel(){e({url:"/pages/zui-calendar/components/zui-calendar/zui-calendar"})},clickStart(){console.log("clickStart"),this.changeHideStatus("picker-pop","block"),this.changeHideStatus("btn-start","block"),this.changeHideStatus("picker-pop-end","none"),this.changeHideStatus("btn-end","none"),this.changeHideStatus("startAt","none"),this.changeHideStatus("endAt","none"),console.log("Start at: ",this.shour,this.smin)},settingStart(){console.log("settingStart"),this.changeHideStatus("picker-pop","none"),this.changeHideStatus("btn-start","none"),this.changeHideStatus("startAt","block"),this.changeHideStatus("endAt","block")},clickEnd(){console.log("clickEnd"),this.changeHideStatus("picker-pop-end","block"),this.changeHideStatus("btn-end","block"),this.changeHideStatus("picker-pop","none"),this.changeHideStatus("btn-start","none"),this.changeHideStatus("startAt","none"),this.changeHideStatus("endAt","none"),console.log("End at: ",this.ehour,this.emin)},settingEnd(){console.log("settingEnd"),this.changeHideStatus("picker-pop-end","none"),this.changeHideStatus("btn-end","none"),this.changeHideStatus("startAt","block"),this.changeHideStatus("endAt","block")},toggleCheckbox(e){this.weekItems[e].selected=!this.weekItems[e].selected,this.weekItems[e].selected?this.weekItems[e].iconUrl="https://mp-40dc0c3b-8c88-46a3-943c-80a76525110e.cdn.bspapp.com/todo-img/select-week.png":this.weekItems[e].iconUrl="https://mp-40dc0c3b-8c88-46a3-943c-80a76525110e.cdn.bspapp.com/todo-img/unselect-week.png";const t=Object.keys(this.weekItems).filter((e=>this.weekItems[e].selected));console.log("当前选中的周天：",t)},toggleIcon(e){console.log("toggleIcon click"),this.shakebtn[e].selected=!this.shakebtn[e].selected,this.shakebtn[e].selected?(this.shakebtn[e].iconUrl="https://mp-40dc0c3b-8c88-46a3-943c-80a76525110e.cdn.bspapp.com/todo-img/btn-clicked.png",console.log("打开震动 来自日历:::",this.$route.params.id)):(this.shakebtn[e].iconUrl="https://mp-40dc0c3b-8c88-46a3-943c-80a76525110e.cdn.bspapp.com/todo-img/btn-unclick.png",console.log("取消震动"))},selectColor(e){this.selectedColorIndex=e,console.log("selectColor 选中颜色:",this.colorArray[this.selectedColorIndex])},clickSave(){console.log("clickSave 保存!"),console.log("备注:",this.remark),console.log("选中颜色:",this.colorArray[this.selectedColorIndex]),console.log("起始时间:",this.shour,":",this.smin," to ",this.ehour,":",this.emin);const t=this.selectDay;new Date(t).getDate(),e({url:"/pages/zui-calendar/components/zui-calendar/zui-calendar?newDay="+this.selectDay+"&remark="+this.remark+"&color="+this.colorArray[this.selectedColorIndex]+"&shour="+this.shour+"&ehour="+this.ehour+"&smin="+this.smin+"&emin="+this.emin})}},mounted(){}},[["render",function(e,_,x,w,S,y){const T=h,I=n,H=p,v=m,U=k,A=g,D=b;return t(),s(I,{class:"bg-root"},{default:i((()=>[c(I,{class:"pxp-card-top"},{default:i((()=>[c(T,{onClick:y.clickCancel,class:"pxp-top-cancel"},{default:i((()=>[a("取消")])),_:1},8,["onClick"]),c(T,{class:"pxp-top-title"},{default:i((()=>[a("设置闹钟")])),_:1}),c(T,{onClick:y.clickSave,class:"pxp-top-save"},{default:i((()=>[a("保存")])),_:1},8,["onClick"])])),_:1}),c(I,{class:"pxp-card-week"},{default:i((()=>[c(I,{class:"row"},{default:i((()=>[c(I,{class:"pxp-week-item",onClick:_[0]||(_[0]=e=>y.toggleCheckbox("周一"))},{default:i((()=>[c(H,{class:"icon",src:S.weekItems["周一"].iconUrl},null,8,["src"]),l("span",null,o(S.weekItems["周一"].name),1)])),_:1}),c(I,{class:"pxp-week-item",onClick:_[1]||(_[1]=e=>y.toggleCheckbox("周二"))},{default:i((()=>[c(H,{class:"icon",src:S.weekItems["周二"].iconUrl},null,8,["src"]),l("span",null,o(S.weekItems["周二"].name),1)])),_:1}),c(I,{class:"pxp-week-item",onClick:_[2]||(_[2]=e=>y.toggleCheckbox("周三"))},{default:i((()=>[c(H,{class:"icon",src:S.weekItems["周三"].iconUrl},null,8,["src"]),l("span",null,o(S.weekItems["周三"].name),1)])),_:1}),c(I,{class:"pxp-week-item",onClick:_[3]||(_[3]=e=>y.toggleCheckbox("周四"))},{default:i((()=>[c(H,{class:"icon",src:S.weekItems["周四"].iconUrl},null,8,["src"]),l("span",null,o(S.weekItems["周四"].name),1)])),_:1})])),_:1}),c(I,{class:"row"},{default:i((()=>[c(I,{class:"pxp-week-item",onClick:_[4]||(_[4]=e=>y.toggleCheckbox("周五"))},{default:i((()=>[c(H,{class:"icon",src:S.weekItems["周五"].iconUrl},null,8,["src"]),l("span",null,o(S.weekItems["周五"].name),1)])),_:1}),c(I,{class:"pxp-week-item",onClick:_[5]||(_[5]=e=>y.toggleCheckbox("周六"))},{default:i((()=>[c(H,{class:"icon",src:S.weekItems["周六"].iconUrl},null,8,["src"]),l("span",null,o(S.weekItems["周六"].name),1)])),_:1}),c(I,{class:"pxp-week-item",onClick:_[6]||(_[6]=e=>y.toggleCheckbox("周日"))},{default:i((()=>[c(H,{class:"icon",src:S.weekItems["周日"].iconUrl},null,8,["src"]),l("span",null,o(S.weekItems["周日"].name),1)])),_:1}),c(I,{class:"pxp-week-item",style:{visibility:"hidden"}},{default:i((()=>[c(H,{class:"icon",src:"https://mp-40dc0c3b-8c88-46a3-943c-80a76525110e.cdn.bspapp.com/todo-img/unselect-week.png"}),l("span",null,"周八")])),_:1})])),_:1})])),_:1}),c(I,{class:"container"},{default:i((()=>[c(I,{class:"pxp-card-shake"},{default:i((()=>[c(I,{class:"top-section"},{default:i((()=>[l("span",{class:"mark-text"},"备注"),c(v,{type:"text",class:"input-box",placeholder:"请填写备注",modelValue:S.remark,"onUpdate:modelValue":_[7]||(_[7]=e=>S.remark=e)},null,8,["modelValue"])])),_:1}),c(I,{class:"line-container"},{default:i((()=>[l("hr",{class:"horizontal-line"})])),_:1}),c(I,{class:"shake"},{default:i((()=>[l("span",{class:"shake-text"},"震动"),c(I,{class:"btn-shake",onClick:_[8]||(_[8]=e=>y.toggleIcon("0"))},{default:i((()=>[c(H,{class:"shake-btn-icon",src:S.shakebtn[0].iconUrl},null,8,["src"])])),_:1})])),_:1})])),_:1})])),_:1}),c(I,{class:"pxp-card-time"},{default:i((()=>[c(I,{class:"set-day"},{default:i((()=>[l("span",{class:"set-day-title"},"时间"),l("span",{class:"select-day"},o(S.selectDay)+" 周"+o(S.selectWeekDay),1),c(H,{class:"tip-icon"})])),_:1}),c(I,{class:"startAt",onClick:y.clickStart},{default:i((()=>[c(T,{onClick:y.clickStart,class:"uni-datetime-picker-sign a-sign-left"},{default:i((()=>[a("起始")])),_:1},8,["onClick"]),c(T,{class:"uni-datetime-picker-sign ax-sign-left"},{default:i((()=>[a(o(S.shour<10?"0"+S.shour:S.shour),1)])),_:1}),c(T,{class:"uni-datetime-picker-sign a-sign-center"},{default:i((()=>[a("时")])),_:1}),c(T,{class:"uni-datetime-picker-sign ax-sign-center"},{default:i((()=>[a(o(S.smin<10?"0"+S.smin:S.smin),1)])),_:1}),c(T,{class:"uni-datetime-picker-sign a-sign-right"},{default:i((()=>[a("分")])),_:1})])),_:1},8,["onClick"]),c(I,{class:"endAt",onClick:y.clickEnd},{default:i((()=>[c(T,{class:"uni-datetime-picker-sign e-sign-left"},{default:i((()=>[a("结束")])),_:1}),c(T,{class:"uni-datetime-picker-sign ex-sign-left"},{default:i((()=>[a(o(S.ehour<10?"0"+S.ehour:S.ehour),1)])),_:1}),c(T,{class:"uni-datetime-picker-sign e-sign-center"},{default:i((()=>[a("时")])),_:1}),c(T,{class:"uni-datetime-picker-sign ex-sign-center"},{default:i((()=>[a(o(S.emin<10?"0"+S.emin:S.emin),1)])),_:1}),c(T,{class:"uni-datetime-picker-sign e-sign-right"},{default:i((()=>[a("分")])),_:1})])),_:1},8,["onClick"]),c(I,{class:"picker-pop"},{default:i((()=>[c(I,{class:"picker-container"},{default:i((()=>[c(A,{class:"uni-datetime-picker-view","indicator-style":S.indicatorStyle,value:y.hms,onChange:y.bindStartTimeChange},{default:i((()=>[c(U,null,{default:i((()=>[(t(!0),r(u,null,d(y.hours,((e,n)=>(t(),s(I,{class:"uni-datetime-picker-item",key:n},{default:i((()=>[c(T,{class:"uni-datetime-picker-item"},{default:i((()=>[a(o(y.lessThanTen(e)),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1}),c(U,null,{default:i((()=>[(t(!0),r(u,null,d(y.minutes,((e,n)=>(t(),s(I,{class:"uni-datetime-picker-item",key:n},{default:i((()=>[c(T,{class:"uni-datetime-picker-item"},{default:i((()=>[a(o(y.lessThanTen(e)),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1},8,["indicator-style","value","onChange"]),c(T,{onClick:y.clickStart,class:"uni-datetime-picker-sign sign-left"},{default:i((()=>[a("起始")])),_:1},8,["onClick"]),c(T,{class:"uni-datetime-picker-sign sign-center"},{default:i((()=>[a("时")])),_:1}),c(T,{class:"uni-datetime-picker-sign sign-right"},{default:i((()=>[a("分")])),_:1}),c(D,{class:"btn-start",onClick:_[9]||(_[9]=e=>y.settingStart())})])),_:1})])),_:1}),c(I,{class:"picker-pop-end"},{default:i((()=>[c(I,{class:"picker-container"},{default:i((()=>[c(A,{class:"uni-datetime-picker-view-end","indicator-style":S.indicatorStyle,value:y.hms,onChange:y.bindEndTimeChange},{default:i((()=>[c(U,null,{default:i((()=>[(t(!0),r(u,null,d(y.hours,((e,n)=>(t(),s(I,{class:"uni-datetime-picker-item",key:n},{default:i((()=>[c(T,{class:"uni-datetime-picker-item"},{default:i((()=>[a(o(y.lessThanTen(e)),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1}),c(U,null,{default:i((()=>[(t(!0),r(u,null,d(y.minutes,((e,n)=>(t(),s(I,{class:"uni-datetime-picker-item",key:n},{default:i((()=>[c(T,{class:"uni-datetime-picker-item"},{default:i((()=>[a(o(y.lessThanTen(e)),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1},8,["indicator-style","value","onChange"]),c(T,{onClick:y.clickEnd,class:"uni-datetime-picker-sign sign-left"},{default:i((()=>[a("结束")])),_:1},8,["onClick"]),c(T,{class:"uni-datetime-picker-sign sign-center"},{default:i((()=>[a("时")])),_:1}),c(T,{class:"uni-datetime-picker-sign sign-right"},{default:i((()=>[a("分")])),_:1}),c(D,{class:"btn-end",onClick:_[10]||(_[10]=e=>y.settingEnd())})])),_:1})])),_:1})])),_:1}),c(I,{class:"pxp-card-color"},{default:i((()=>[l("span",{class:"color-title"},"颜色"),c(I,{class:"color-item"},{default:i((()=>[(t(!0),r(u,null,d(S.colorArray,((e,i)=>(t(),s(I,{key:i,class:f(["color-circle",{active:S.selectedColorIndex===i}]),style:C({backgroundColor:e}),onClick:e=>y.selectColor(i)},null,8,["class","style","onClick"])))),128))])),_:1})])),_:1})])),_:1})}],["__scopeId","data-v-39c0981a"]]);export{x as default};
